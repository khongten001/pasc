<!DOCTYPE html>
<html lang="en">
<head>
<title>Command.Watch</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="PasDoc 0.16.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="tipuesearch/tipuesearch.css">

<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<div class="container"><div class="navigation">
<h2><a href="introduction.html">pasc</a></h2><ul><li><a href="install.html">Install</a></li><li><a href="quickstart.html">Quick start</a></li><li><a href="advanced.html">Advanced features</a></li><hr><li>Commands<ul style="margin-left: 10px;"><li><a href="command-add.html">Add</a></li><li><a href="command-build.html">Build</a></li><li><a href="command-clean.html">Clean</a></li><li><a href="command-help.html">Help</a></li><li><a href="command-install.html">Install</a></li><li><a href="command-new.html">New</a></li><li><a href="command-test.html">Test</a></li><li><a href="command-version.html">Version</a></li><li><a href="command-watch.html">Watch</a></li></li></ul><hr><li>Reference<ul style="margin-left: 10px;"><li><a href="AllUnits.html">Units</a></li><li><a href="ClassHierarchy.html">Class Hierarchy</a></li><li><a href="AllClasses.html">Classes, Interfaces, Objects and Records</a></li><li><a href="AllTypes.html">Types</a></li><li><a href="AllVariables.html">Variables</a></li><li><a href="AllConstants.html">Constants</a></li><li><a href="AllFunctions.html">Functions and Procedures</a></li><li><a href="AllIdentifiers.html">Identifiers</a></li></li></ul><li><form class="search-form" action="tipue_results.html"><div class="search-input"><input type="text" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required><div class="search-button"><input type="button" id="tipue_search_button" onclick="this.form.submit();"></div></div></form>
<div style="clear: both"></div>
</li></ul></div><div class="content">
<h1 class="unit">Unit Command.Watch</h1>
<div class="sections">
<div class="one_section"><a class="section" href="#PasDoc-Description">Description</a></div><div class="one_section">Uses</div><div class="one_section">Classes, Interfaces, Objects and Records</div><div class="one_section"><a class="section" href="#PasDoc-FuncsProcs">Functions and Procedures</a></div><div class="one_section">Types</div><div class="one_section">Constants</div><div class="one_section"><a class="section" href="#PasDoc-Variables">Variables</a></div></div>
<span id="PasDoc-Description"></span><h2 class="description">Description</h2>
<p>
( This unit contains procedures for setting up and executing a watch command in the current directory. If there are changes to files in that directory, specified commands are executed. &lt;/sumamry&gt;</p>
<span id="PasDoc-Uses"></span><h2 class="overview">Overview</h2>
<span id="PasDoc-FuncsProcs"></span><h3 class="summary">Functions and Procedures</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code>procedure <strong><a href="Command.Watch.html#WatchCommand">WatchCommand</a></strong>(ABuilder: ICommandBuilder);</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code>procedure <strong><a href="Command.Watch.html#Registry">Registry</a></strong>(ABuilder: ICommandBuilder);</code></td>
</tr>
<tr class="list">
<td class="itemcode"><code>function <strong><a href="Command.Watch.html#RunUserCommandAsRequested">RunUserCommandAsRequested</a></strong>(const AFile: string; const AEvent: <a href="Utils.Interfaces.html#TWatcherEvent">TWatcherEvent</a>): Boolean;</code></td>
</tr>
</table>
<span id="PasDoc-Variables"></span><h3 class="summary">Variables</h3>
<table class="summary wide_list">
<tr class="list">
<td class="itemcode"><code><strong><a href="Command.Watch.html#RunWatcherCallback">RunWatcherCallback</a></strong>: <a href="Utils.Interfaces.html#TWatcherRunCallback">TWatcherRunCallback</a>;</code></td>
</tr>
<tr class="list2">
<td class="itemcode"><code><strong><a href="Command.Watch.html#CommandWatchTimeout">CommandWatchTimeout</a></strong>: LongInt = 3600000;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Functions and Procedures</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="WatchCommand"></span><code>procedure <strong>WatchCommand</strong>(ABuilder: ICommandBuilder);</code></td>
</tr>
<tr><td colspan="1">
<p>
 This command aims to monitor for changes in the current directory. Changes considered are new files, changes to existing files, and file deletions.

<p>The ignored folders are the ones that start with &quot;.&quot;, the ones named &quot;lib&quot;, &quot;modules&quot;, &quot;backup&quot;. Ignored files start with &quot;.&quot;, with no extension, .exe, .dll and .trc.

<p>Once the change condition is satisfied, the requested commands are executed so that their output is generated in the console. </p>
<p>
 </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ABuilder</dt>
<dd>Command builder of the main application that will be used to output user instructions about the execution state of this command.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="Registry"></span><code>procedure <strong>Registry</strong>(ABuilder: ICommandBuilder);</code></td>
</tr>
<tr><td colspan="1">
<p>
 Registry a watch command using the command builder from pascli. </p>
<p>
 </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ABuilder</dt>
<dd>Command builder of the main application that will be used to registry the command.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="RunUserCommandAsRequested"></span><code>function <strong>RunUserCommandAsRequested</strong>(const AFile: string; const AEvent: <a href="Utils.Interfaces.html#TWatcherEvent">TWatcherEvent</a>): Boolean;</code></td>
</tr>
<tr><td colspan="1">
<p>
 Execute the command requested by the user, it will be passed to IPathWatcher so that it executes it. It is prepared to run the project build and tests as long as there is a respective executable. . </p>
<p>
 

<p></p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>AFile</dt>
<dd>Filename that triggered the action change.</dd>
<dt>AEvent</dt>
<dd>The event that triggered this procedure.</dd>
</dl>
</td></tr>
</table>
<h3 class="detail">Variables</h3>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="RunWatcherCallback"></span><code><strong>RunWatcherCallback</strong>: <a href="Utils.Interfaces.html#TWatcherRunCallback">TWatcherRunCallback</a>;</code></td>
</tr>
<tr><td colspan="1">
<p>
 Allows to define another function to process the changes detected by the Watcher. The main purpose is to use this variable to easily implement unit tests. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="itemcode"><span id="CommandWatchTimeout"></span><code><strong>CommandWatchTimeout</strong>: LongInt = 3600000;</code></td>
</tr>
<tr><td colspan="1">
<p>
 Allows to set a custom timeout to wait for an change event. The main purpose is to use this variable to easily implement unit tests. </p>
</td></tr>
</table>
<hr><span class="appinfo"><em>Generated by <a href="https://pasdoc.github.io/">PasDoc 0.16.0</a>. </em>
</span>
</div></div></body></html>
