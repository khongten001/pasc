<!DOCTYPE html>
<html lang="en">
<head>
<title>Utils.Leak: Class TLeakReport</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="PasDoc 0.16.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="tipuesearch/tipuesearch.css">

<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<div class="container"><div class="navigation">
<h2><a href="introduction.html">pasc</a></h2><ul><li><a href="install.html">Install</a></li><li><a href="quickstart.html">Quick start</a></li><li><a href="advanced.html">Advanced features</a></li><hr><li>Commands<ul style="margin-left: 10px;"><li><a href="command-add.html">Add</a></li><li><a href="command-build.html">Build</a></li><li><a href="command-clean.html">Clean</a></li><li><a href="command-help.html">Help</a></li><li><a href="command-install.html">Install</a></li><li><a href="command-new.html">New</a></li><li><a href="command-test.html">Test</a></li><li><a href="command-version.html">Version</a></li><li><a href="command-watch.html">Watch</a></li></li></ul><hr><li>Reference<ul style="margin-left: 10px;"><li><a href="AllUnits.html">Units</a></li><li><a href="ClassHierarchy.html">Class Hierarchy</a></li><li><a href="AllClasses.html">Classes, Interfaces, Objects and Records</a></li><li><a href="AllTypes.html">Types</a></li><li><a href="AllVariables.html">Variables</a></li><li><a href="AllConstants.html">Constants</a></li><li><a href="AllFunctions.html">Functions and Procedures</a></li><li><a href="AllIdentifiers.html">Identifiers</a></li></li></ul><li><form class="search-form" action="tipue_results.html"><div class="search-input"><input type="text" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required><div class="search-button"><input type="button" id="tipue_search_button" onclick="this.form.submit();"></div></div></form>
<div style="clear: both"></div>
</li></ul></div><div class="content">
<span id="TLeakReport"></span><h1 class="cio">Class TLeakReport</h1>
<div class="sections">
<div class="one_section"><a class="section" href="#PasDoc-Description">Description</a></div><div class="one_section"><a class="section" href="#PasDoc-Hierarchy">Hierarchy</a></div><div class="one_section">Fields</div><div class="one_section"><a class="section" href="#PasDoc-Methods">Methods</a></div><div class="one_section"><a class="section" href="#PasDoc-Properties">Properties</a></div></div>
<span id="PasDoc-Description"></span><h2 class="unit">Unit</h2>
<p class="unitlink">
<a href="Utils.Leak.html">Utils.Leak</a></p>
<h2 class="declaration">Declaration</h2>
<p class="declaration">
<code>type TLeakReport = class(TObject)</code></p>
<h2 class="description">Description</h2>
<p>
&lt;sumary&gt; This class aims to interpret the memory leak trace file and produce a simpler report summarizing enough information to locate the problem at its source. )</p>
<span id="PasDoc-Hierarchy"></span><h2 class="hierarchy">Hierarchy</h2>
<ul class="hierarchy"><li class="ancestor">TObject</li>
<li class="thisitem">TLeakReport</li></ul><h2 class="overview">Overview</h2>
<span id="PasDoc-Methods"></span><h3 class="summary">Methods</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>constructor <strong><a href="Utils.Leak.TLeakReport.html#Create">Create</a></strong>;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>destructor <strong><a href="Utils.Leak.TLeakReport.html#Destroy">Destroy</a></strong>; override;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class function <strong><a href="Utils.Leak.TLeakReport.html#New">New</a></strong>(ABuider: ICommandBuilder; const AProjectSource: string): <a href="Utils.Leak.TLeakReport.html">TLeakReport</a>;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <strong><a href="Utils.Leak.TLeakReport.html#AddItem">AddItem</a></strong>(AItem: <a href="Utils.Leak.TLeakItem.html">TLeakItem</a>): <a href="Utils.Leak.TLeakItem.html">TLeakItem</a>;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>procedure <strong><a href="Utils.Leak.TLeakReport.html#CreateLeakItem">CreateLeakItem</a></strong>(AContent: TStringList; AStart: Integer);</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <strong><a href="Utils.Leak.TLeakReport.html#GetNextStringOf">GetNextStringOf</a></strong>(const AText, AField: string): string;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <strong><a href="Utils.Leak.TLeakReport.html#AddRelativePath">AddRelativePath</a></strong>(const AFile: string): string;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>procedure <strong><a href="Utils.Leak.TLeakReport.html#Output">Output</a></strong>;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>function <strong><a href="Utils.Leak.TLeakReport.html#ParseHeapTrace">ParseHeapTrace</a></strong>(const AContent: string): <a href="Utils.Leak.TLeakReport.html">TLeakReport</a>;</code></td>
</tr>
</table>
<span id="PasDoc-Properties"></span><h3 class="summary">Properties</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <strong><a href="Utils.Leak.TLeakReport.html#Executable">Executable</a></strong>: string read FExecutable write FExecutable;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <strong><a href="Utils.Leak.TLeakReport.html#ProjectSource">ProjectSource</a></strong>: string read FProjectSource write FProjectSource;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>property <strong><a href="Utils.Leak.TLeakReport.html#LeakData">LeakData</a></strong>: TArray&lt;<a href="Utils.Leak.TLeakItem.html">TLeakItem</a>&gt; read FLeakData write FLeakData;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Methods</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="Create"></span><code>constructor <strong>Create</strong>;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Class constructor that initializes arrays and control variables. Check factory method new as the best option. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="Destroy"></span><code>destructor <strong>Destroy</strong>; override;</code></td>
</tr>
<tr><td colspan="2">
<p>
 The class's destructor frees all TLeakItem instances created during parse. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="New"></span><code>class function <strong>New</strong>(ABuider: ICommandBuilder; const AProjectSource: string): <a href="Utils.Leak.TLeakReport.html">TLeakReport</a>;</code></td>
</tr>
<tr><td colspan="2">
<p>
 It is the best way to create a new instance of the class, as it considers its dependencies. </p>
<p>


<p>A valid instance of ICommandBuilder. Basically it will be used to generate the output to the console considering the theme settings.)

<p>The path to the source code, needed to find the files corresponding to the source code reported in the memory leak trace file. )</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="AddItem"></span><code>function <strong>AddItem</strong>(AItem: <a href="Utils.Leak.TLeakItem.html">TLeakItem</a>): <a href="Utils.Leak.TLeakItem.html">TLeakItem</a>;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Adds a new memory leak item to the report.</p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="CreateLeakItem"></span><code>procedure <strong>CreateLeakItem</strong>(AContent: TStringList; AStart: Integer);</code></td>
</tr>
<tr><td colspan="2">
<p>
 Scans the contents of the AContent variable to summarize the details of a memory leak reported in the trace file. If a memory leak is found then it added to the report calling AddItem method. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="GetNextStringOf"></span><code>function <strong>GetNextStringOf</strong>(const AText, AField: string): string;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Considering the content of AText, it searches for the string AField, if successful, returns the value immediately to the right of that string. The returned value will be limited until it finds the next space or the end of the string. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="AddRelativePath"></span><code>function <strong>AddRelativePath</strong>(const AFile: string): string;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Given a filename, try to locate it recursively in the projects folder, then in the current directory. If the file is found, the relative path will be added to the file name. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="Output"></span><code>procedure <strong>Output</strong>;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Prints a report using ICommandBuilder's Output Callback. This report will have data regarding possible memory leaks like size, source method and source code file with line number. If no leak was found, it will display a message indicating the same. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="ParseHeapTrace"></span><code>function <strong>ParseHeapTrace</strong>(const AContent: string): <a href="Utils.Leak.TLeakReport.html">TLeakReport</a>;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Parses the contents of the trace file generated by the HeapTrace unit. Groups the information into a TLeakItem list. </p>
<p>
 </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>AContent</dt>
<dd>Accepts the contents of the memory leak trace file. If an empty string is passed, the method will try to locate the heap.trc file in the test project's executable directory.</dd>
</dl>
</td></tr>
</table>
<h3 class="detail">Properties</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="Executable"></span><code>property <strong>Executable</strong>: string read FExecutable write FExecutable;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Test project excutable name. </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="ProjectSource"></span><code>property <strong>ProjectSource</strong>: string read FProjectSource write FProjectSource;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Path to test project source files </p>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><span id="LeakData"></span><code>property <strong>LeakData</strong>: TArray&lt;<a href="Utils.Leak.TLeakItem.html">TLeakItem</a>&gt; read FLeakData write FLeakData;</code></td>
</tr>
<tr><td colspan="2">
<p>
 Array of TLeakItem that is generated after calling ParseHeapTrace method. </p>
</td></tr>
</table>
<hr><span class="appinfo"><em>Generated by <a href="https://pasdoc.github.io/">PasDoc 0.16.0</a>. </em>
</span>
</div></div></body></html>
